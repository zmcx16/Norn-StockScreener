(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"09/Z":function(e,t,a){e.exports={container:"dividendChampions-module--container--1ntSf",showColumn:"dividendChampions-module--showColumn--bwrTq",table:"dividendChampions-module--table--Ya5lU"}},OFZD:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),i=a.n(n),l=a("w8ma"),r=a("Bl7J"),d=a("KQm4"),o=a("ZuIi"),c=a("OGDC"),s=a("DbNq"),m=a.n(s),u=a("tFdz"),h=a("wd/R"),f=a.n(h),b=a("V3n9"),Y=a("ps87"),p=a("0d+u"),D=a("y9N3"),x=a("J+eN"),E=a("b+jq"),v=a("nJDY"),w=a("Yjvw"),y=a("wcMh"),A=a("2Ovm");var g=e=>{let{title:t,dividendCloseData:a,closeVolumeData:n}=e;return i.a.createElement("div",{style:{width:window.innerWidth-80+"px",height:window.innerHeight-80+"px",maxWidth:"1200px",maxHeight:"800px"}},i.a.createElement("h3",null,t),i.a.createElement(Y.a,{width:"100%",height:"47%"},i.a.createElement(p.a,{data:a,syncId:"dividendCloseData",margin:{top:5,right:30,left:20,bottom:5}},i.a.createElement(D.a,{strokeDasharray:"3 3"}),i.a.createElement(x.a,{dataKey:"Date",tickFormatter:e=>f()(e).format("MM/DD/YYYY")}),i.a.createElement(E.a,{yAxisId:"left",domain:["auto","auto"],tickFormatter:e=>e+"%"}),i.a.createElement(E.a,{yAxisId:"right",orientation:"right",domain:["auto","auto"]}),i.a.createElement(v.a,null),i.a.createElement(w.a,{wrapperStyle:{bottom:-5}}),i.a.createElement(y.a,{connectNulls:!0,yAxisId:"right",type:"monotone",name:"Dividend",dataKey:"Dividends",dot:{stroke:"#FF8042",strokeWidth:2},stroke:"#FF8042"}),i.a.createElement(y.a,{connectNulls:!0,yAxisId:"left",type:"monotone",name:"Annual Dividend Yield (%, Estimated)",dataKey:"EstimateDividendsYield",stroke:"#8884d8",dot:!1,unit:"%"}))),i.a.createElement(Y.a,{width:"100%",height:"47%"},i.a.createElement(p.a,{data:n,syncId:"closeVolumeData",margin:{top:5,right:30,left:20,bottom:5}},i.a.createElement(D.a,{strokeDasharray:"3 3"}),i.a.createElement(x.a,{dataKey:"Date",tickFormatter:e=>f()(e).format("MM/DD/YYYY")}),i.a.createElement(E.a,{yAxisId:"left",domain:["auto","auto"]}),i.a.createElement(E.a,{yAxisId:"right",orientation:"right",domain:["auto","auto"]}),i.a.createElement(v.a,null),i.a.createElement(w.a,{wrapperStyle:{bottom:-5}}),i.a.createElement(y.a,{connectNulls:!0,yAxisId:"left",type:"monotone",name:"Close Price",dataKey:"Close",stroke:"#8884d8",dot:!1}),i.a.createElement(A.a,{yAxisId:"right",name:"Volume",dataKey:"Volume",fill:"#82ca9d"}))))},P=a("jJ2d"),j=a("qnxO"),k=a("+x9f"),M=a("/1FI"),O=a("WSAr"),R=a("09/Z"),L=a.n(R);a("jAbX");var _=e=>{let{loadingAnimeRef:t}=e;const{0:a,1:l}=Object(n.useState)({}),r=Object(n.useRef)({popModalWindow:null,popPureModal:null}),s={hide:!1,text:"Price"},h={hide:!1,text:"P/E"},f={hide:!1,text:"P/B"},Y={hide:!1,text:"Dividend %"},p={hide:!1,text:"Dividend %(5Y)"},D={hide:!1,text:"No Years"},x={hide:!1,text:"DGR 1Y"},E={hide:!1,text:"DGR 3Y"},v={hide:!1,text:"DGR 5Y"},w={hide:!1,text:"DGR 10Y"},y={hide:!1,text:"Ex-Dividend Date"},A={hide:!1,text:"52W High"},R={hide:!1,text:"52W Low"},_={hide:!1,text:"Perf Week"},C={hide:!1,text:"Perf Month"},N={hide:!1,text:"Perf Quarter"},G={hide:!1,text:"Perf Half Y"},V={hide:!1,text:"Perf Year"},W={hide:!1,text:"Perf YTD"},U={hide:!1,text:"Chart"},X=async(e,t)=>{const a=await t.get(e);return t.response.ok&&a?a:null},F=(e,t)=>{Promise.all([X("/norn-data/dividend/historical-quotes/"+e+".json",I)]).then(a=>{if(1===a.length&&null!==a[0]){const n=e+" Chart";let l=[],d=[];a[0].data.forEach(e=>{"Dividends"in e&&l.push({Date:e.date,EstimateDividendsYield:parseFloat((100*e.Dividends*t/e.Close).toFixed(2)),Dividends:e.Dividends}),d.push({Date:e.date,Close:parseFloat(e.Close.toFixed(2)),Volume:e.Volume})}),r.current.popModalWindow(i.a.createElement(g,{title:n,dividendCloseData:l,closeVolumeData:d}))}else r.current.popModalWindow(i.a.createElement("div",null,"Load some data failed"))}).catch(()=>{r.current.popModalWindow(i.a.createElement("div",null,"Can't draw chart"))})},S=Object(u.a)({cachePolicy:"no-cache"}),I=Object(u.a)({cachePolicy:"no-cache"}),H=(e,a)=>{Promise.all([X("/norn-data/stock/stat.json",S),X("/norn-data/dividend/champions.json",I),X("/norn-data/dividend/all_dividend_date_list.json",I)]).then(n=>{if(3===n.length&&null!==n[0]&&null!==n[1]&&null!==n[2]){let t=Object.assign.apply(Object,[{}].concat(Object(d.a)(n[2].data.map(e=>({[e.symbol]:e}))))),i=Object.keys(n[1].data).reduce((a,i,l)=>{let r=n[0][i],d=n[1].data[i],o={link:"-",ex_dividend_date:"-"};i in t&&(o.link=t[i].link,o.ex_dividend_date=t[i].ex_dividend_date);let c={id:l,symbol:i,close:null!=r&&"-"!==r.Close?r.Close:-Number.MAX_VALUE,PE:null!=r&&"-"!==r["P/E"]?r["P/E"]:Number.MAX_VALUE,PB:null!=r&&"-"!==r["P/B"]?r["P/B"]:Number.MAX_VALUE,dividend:null!=d&&"-"!==d["Div Yield"]?d["Div Yield"]/100:-Number.MAX_VALUE,noYears:null!=d&&"-"!==d["No Years"]?d["No Years"]:-Number.MAX_VALUE,avgYield5Y:null!=d&&"-"!==d["5Y Avg Yield"]?d["5Y Avg Yield"]/100:-Number.MAX_VALUE,DGR1Y:null!=d&&"-"!==d["DGR 1Y"]?d["DGR 1Y"]/100:-Number.MAX_VALUE,DGR3Y:null!=d&&"-"!==d["DGR 3Y"]?d["DGR 3Y"]/100:-Number.MAX_VALUE,DGR5Y:null!=d&&"-"!==d["DGR 5Y"]?d["DGR 5Y"]/100:-Number.MAX_VALUE,DGR10Y:null!=d&&"-"!==d["DGR 10Y"]?d["DGR 10Y"]/100:-Number.MAX_VALUE,exDividendLink:o.link,exDividendDate:o.ex_dividend_date,payoutsYear:null!=d&&"-"!==d["Payouts/ Year"]?d["Payouts/ Year"]:4,high52:null!=r&&"-"!==r["52W High"]?r["52W High"]:-Number.MAX_VALUE,low52:null!=r&&"-"!==r["52W Low"]?r["52W Low"]:-Number.MAX_VALUE,perfWeek:null!=r&&"-"!==r["Perf Week"]?r["Perf Week"]:-Number.MAX_VALUE,perfMonth:null!=r&&"-"!==r["Perf Month"]?r["Perf Month"]:-Number.MAX_VALUE,perfQuarter:null!=r&&"-"!==r["Perf Quarter"]?r["Perf Quarter"]:-Number.MAX_VALUE,perfHalfY:null!=r&&"-"!==r["Perf Half Y"]?r["Perf Half Y"]:-Number.MAX_VALUE,perfYear:null!=r&&"-"!==r["Perf Year"]?r["Perf Year"]:-Number.MAX_VALUE,perfYTD:null!=r&&"-"!==r["Perf YTD"]?r["Perf YTD"]:-Number.MAX_VALUE};return(0===e.filter_symbols.length||e.filter_symbols.includes(i))&&a.push(c),a},[]);console.log(i),T(i),a&&F(i[0].symbol,i[0].payoutsYear)}else r.current.popModalWindow(i.a.createElement("div",null,"Load some data failed"));t.current.setLoading(!1)}).catch(()=>{r.current.popModalWindow(i.a.createElement("div",null,"Can't get data")),t.current.setLoading(!1)})},{0:B,1:T}=Object(n.useState)([]),{0:K,1:Q}=Object(n.useState)("");return Object(n.useEffect)(()=>{let e={filter_symbols:[]},t=!1;if("undefined"!=typeof window){const a=new URLSearchParams(window.location.search);let n=a.get("symbol");n&&(e={filter_symbols:[n]}),t="true"===a.get("showChart")}return H(e,t),()=>{}},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:L.a.container},i.a.createElement("div",{className:L.a.table},i.a.createElement(o.a,{rows:B,columns:[Object(O.j)("Symbol",130,"symbol"in a&&a.symbol),Object(O.g)("close",s.text,110,"close"in a?a.close:s.hide,null,"yahoo"),Object(O.h)("PE",h.text,110,2,"PE"in a?a.PE:h.hide),Object(O.h)("PB",f.text,110,2,"PB"in a?a.PB:f.hide),Object(O.f)("dividend",Y.text,150,"dividend"in a?a.dividend:Y.hide),Object(O.f)("avgYield5Y",p.text,150,"avgYield5Y"in a?a.avgYield5Y:p.hide),Object(O.h)("noYears",D.text,110,0,"noYears"in a?a.noYears:D.hide),Object(O.b)("DGR1Y",x.text,150,2,"DGR1Y"in a?a.DGR1Y:x.hide,500,M.g),Object(O.b)("DGR3Y",E.text,150,2,"DGR3Y"in a?a.DGR3Y:E.hide,500,M.g),Object(O.b)("DGR5Y",v.text,150,2,"DGR5Y"in a?a.DGR5Y:v.hide,500,M.g),Object(O.b)("DGR10Y",w.text,150,2,"DGR10Y"in a?a.DGR10Y:w.hide,500,M.g),{field:"exDividendDate",headerName:y.text,width:130,renderCell:e=>"exDividendLink"in e.row&&""!=e.row.exDividendLink&&"-"!=e.row.exDividendLink?i.a.createElement(b.a,{href:e.row.exDividendLink,target:"_blank",rel:"noreferrer noopener"},i.a.createElement("span",{style:{color:e.row.exDividendDateColor}},e.value)):i.a.createElement("span",null,e.value),hide:"exDividendDate"in a?a.exDividendDate:y.hide},Object(O.f)("high52",A.text,150,"high52"in a?a.high52:A.hide),Object(O.f)("low52",R.text,150,"low52"in a?a.low52:R.hide),Object(O.b)("perfWeek",_.text,150,2,"perfWeek"in a?a.perfWeek:_.hide,500),Object(O.b)("perfMonth",C.text,150,2,"perfMonth"in a?a.perfMonth:C.hide,500),Object(O.b)("perfQuarter",N.text,150,2,"perfQuarter"in a?a.perfQuarter:N.hide,500),Object(O.b)("perfHalfY",G.text,150,2,"perfHalfY"in a?a.perfHalfY:G.hide,500),Object(O.b)("perfYear",V.text,150,2,"perfYear"in a?a.perfYear:V.hide,500),Object(O.b)("perfYTD",W.text,150,2,"perfYTD"in a?a.perfYTD:W.hide,500),{field:"Chart",headerName:U.text,width:130,renderCell:e=>i.a.createElement(c.a,{size:"small","aria-haspopup":"true",onClick:()=>{F(e.row.symbol,e.row.payoutsYear)}},i.a.createElement(m.a,{color:"primary",style:{fontSize:40}})),hide:"Chart"in a?a.Chart:U.hide}],components:{NoRowsOverlay:j.a,Toolbar:()=>i.a.createElement(k.a,{searchVal:K,setSearchVal:Q,clickCallback:e=>{H(e,!1)},info:{placeholder:"Filter symbols: AAPL, BAC, KSS, ...",tooltip:{text:M.e,link:M.f}}})},disableSelectionOnClick:!0,onColumnVisibilityChange:e=>{let t=a;t[e.field]=!e.isVisible,l(t)}}))),i.a.createElement(P.a,{modalWindowRef:r}))},C=a("3Y3G"),N=a("vrFN");t.default=()=>{const e=Object(n.useRef)({getLoading:null,setLoading:null});return i.a.createElement(l.a,{injectFirst:!0},i.a.createElement(N.a,null),i.a.createElement(r.a,null,i.a.createElement(_,{loadingAnimeRef:e})),i.a.createElement(C.a,{loadingAnimeRef:e}))}}}]);
//# sourceMappingURL=component---src-pages-dividend-champions-js-4e2f5cac27b0b22f35b9.js.map