(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"4cdY":function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n=t("hszt"),r=t("wcMh"),l=t("J+eN"),i=t("b+jq"),o=t("Ao2N"),m=Object(n.a)({chartName:"LineChart",GraphicalChild:r.a,axisComponents:[{axisType:"xAxis",AxisComp:l.a},{axisType:"yAxis",AxisComp:i.a}],formatAxisMap:o.b})},Ogif:function(e,a,t){"use strict";var n=t("dI71"),r=t("q1tI"),l=t.n(r),i=t("je4i"),o=t.n(i),m=t("wcMh"),c=t("lQYU"),s=t("FQZO"),u=t("ps87"),d=t("4cdY"),p=t("y9N3"),f=t("J+eN"),y=t("b+jq"),h=t("nJDY");let E=function(e){function a(){return e.apply(this,arguments)||this}return Object(n.a)(a,e),a.prototype.render=function(){const{x:e,y:a,stroke:t,value:n,fontSize:r}=this.props;return l.a.createElement("text",{x:e,y:a,dy:-4,fill:t,fontSize:r,textAnchor:"middle"},n)},a}(r.PureComponent);a.a=e=>{let{data:a,iteration:t,info:n,show_mean_label:r=!0,modal_mode:i=!0}=e;const v=Array(t).fill(0).map((e,a)=>l.a.createElement(m.a,{key:o.a.generate(),type:"monotone",dataKey:"Path-"+String(a).padStart(2,"0"),stroke:"#d3d3d3",dot:!1,strokeWidth:2})),b="strike"in n&&"cost"in n?l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{y:n.strike,label:{position:"insideBottomLeft",value:"Strike: "+n.strike,fill:"red",fontSize:14},stroke:"red",strokeDasharray:"3 3"}),l.a.createElement(c.a,{y:n.cost,label:{position:"insideTopLeft",value:"Cost: "+n.cost,fill:"blue",fontSize:14},stroke:"blue",strokeDasharray:"3 3"})):l.a.createElement(l.a.Fragment,null),g="symbol"in n?l.a.createElement(s.a,{value:"Symbol: "+n.symbol,offset:5,position:"bottom",fill:"#8884d8",fontSize:16}):l.a.createElement(l.a.Fragment,null),S=i?{width:window.innerWidth-100+"px",height:window.innerHeight-100+"px",maxWidth:"1200px",maxHeight:"600px"}:{width:"100%",height:"100%"};return l.a.createElement("div",{style:S},l.a.createElement(u.a,{width:"100%",height:"100%"},l.a.createElement(d.a,{data:a,margin:{top:5,right:30,left:20,bottom:20}},l.a.createElement(p.a,{strokeDasharray:"3 3"}),l.a.createElement(f.a,{dataKey:"Name"},g),l.a.createElement(y.a,{domain:["auto","auto"]}),l.a.createElement(h.a,{itemSorter:e=>e.name}),v,l.a.createElement(m.a,{type:"monotone",dataKey:"Mean",stroke:"#FF8042",strokeWidth:3,label:r?l.a.createElement(E,{stroke:"#FF8042",fontSize:14}):l.a.createElement(l.a.Fragment,null)}),b)))}},bUfP:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),r=t.n(n),l=t("w8ma"),i=t("Bl7J"),o=t("Nb3f"),m=t.n(o),c=t("OGDC"),s=t("cD7S"),u=t.n(s),d=t("MGIy"),p=t("5I82"),f=t("NZDO"),y=t("z6Y5"),h=t("Gqia"),E=t("UG0H"),v=t("sD0r"),b=t("GleO"),g=t("je4i"),S=t.n(g),x=t("tFdz"),k=t("b6Qr"),w=t("jJ2d"),j=t("Nihg");const C={parameters:[{name:"symbol",display_name:"Symbol",val:"THO",gridsm:1},{name:"days",display_name:"Simulation Days",val:"30",min:1,max:252,gridsm:1},{name:"iteration",display_name:"Iteration",val:"50",min:1,max:100,gridsm:1},{name:"ewma_his_vol_period",display_name:"EWMA History Volatility Period",val:"21",gridsm:2},{name:"ewma_his_vol_lambda",display_name:"EWMA History Volatility Lambda",val:"0.94",gridsm:2},{name:"mu",display_name:"Expected Return (default: 1yr data)",val:"",gridsm:2},{name:"vol",display_name:"Volatility (default: EWMA Vol data)",val:"",gridsm:2}]};var P=t("/1FI"),q=t("Ogif"),M=t("y4pv"),O=t.n(M),_=t("q3Q2"),R=t.n(_);const F=e=>{let{queryParameterRef:a,queryParameterCurrentRef:t}=e;return C.parameters.map((e,n)=>((e,a,t,n,l)=>r.a.createElement(y.a,{item:!0,md:l,xs:12,key:S.a.generate()},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(d.a,{id:a,className:R.a.valueText,label:n,variant:"outlined",defaultValue:t,size:"small",inputRef:e}))))(a.current[n],e.name,null===t.current?e.val:t.current[n],e.display_name,e.gridsm))},N=e=>{let{FetchNornFinanceAPIServerRef:a}=e;const t=Object(x.a)("https://"+P.q,{cachePolicy:"no-cache"});return a.current.server=t,r.a.createElement(r.a.Fragment,null)},A=e=>{let{MonteCarloChartCompRef:a}=e;const{0:t,1:l}=Object(n.useState)(r.a.createElement(r.a.Fragment,null));return a.current.setChart=l,t};var z=e=>{let{loadingAnimeRef:a}=e;const t=Object(n.useRef)({popModalWindow:null,popPureModal:null}),l=Object(n.useRef)({server:null}),i=Object(n.useRef)({setChart:null}),o=Object(n.useRef)([]);C.parameters.forEach((e,a)=>{o.current[a]=Object(n.createRef)(),o.current[a].current={value:e.val}});const s=Object(n.useRef)(null);return Object(n.useEffect)(()=>(a.current.setLoading(!1),()=>{}),[]),r.a.createElement("div",{className:O.a.defaultFont+" "+R.a.container},r.a.createElement("div",{className:R.a.queryPannel},r.a.createElement("div",{className:R.a.parameterTitle},r.a.createElement(h.a,{variant:"h6",gutterBottom:!0,component:"div"},"Query Parameters",r.a.createElement(j.b,{arrow:!0,title:r.a.createElement("span",{style:{whiteSpace:"pre-line",fontSize:"14px",lineHeight:"20px",textAlign:"center"}},P.v)},r.a.createElement(c.a,{onClick:()=>window.open(P.r,"_blank")},r.a.createElement(u.a,{color:"action"}))))),r.a.createElement("div",{className:R.a.parameterBlock},r.a.createElement(y.a,{container:!0,spacing:2},r.a.createElement(F,{queryParameterRef:o,queryParameterCurrentRef:s}),r.a.createElement(y.a,{item:!0,md:1,xs:12},r.a.createElement(f.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(b.a,{theme:Object(v.a)({palette:{primary:E.a}})},r.a.createElement(p.a,{className:k.isMobile?R.a.queryBtnMobile:R.a.queryBtn,variant:"contained",color:"primary",startIcon:r.a.createElement(m.a,null),onClick:()=>{a.current.setLoading(!0),s.current=[];let e=C.parameters.reduce((e,a,t)=>(e[a.name]=o.current[t].current.value,s.current.push(e[a.name]),e),{});if(console.log(e),C.parameters.some((function(a){return"min"in a&&a.min>e[a.name]||"max"in a&&a.max<e[a.name]})))return a.current.setLoading(!1),void t.current.popModalWindow(r.a.createElement("div",null,"The query parameter is not valid or overy limit."));const n="/stock/price-simulation-by-mc?"+Object.keys(e).map((function(a){return""!=e[a]?a+"="+e[a]:""})).join("&");Promise.all([Object(j.a)(n,l.current.server)]).then(e=>{if(console.log(e),1===e.length&&null!==e[0]){let a=[],t=e[0].data.length,n=e[0].mean.length;e[0].mean.forEach((t,n)=>{let r={Mean:parseInt(100*t,10)/100,Name:"Day"+n};e[0].data.forEach((e,a)=>{r["Path-"+String(a).padStart(2,"0")]=parseInt(100*e[n],10)/100}),a.push(r)}),i.current.setChart(r.a.createElement(q.a,{data:a,iteration:t,info:{},show_mean_label:n<=40,modal_mode:!1}))}else console.error("Call simulation api failed"),t.current.popModalWindow(r.a.createElement("div",null,"Call simulation api failed"));a.current.setLoading(!1)}).catch(()=>{console.error("Call simulation api failed..."),t.current.popModalWindow(r.a.createElement("div",null,"Call simulation api failed...")),a.current.setLoading(!1)})}},"Simulation"))))))),r.a.createElement("div",{className:R.a.chart},r.a.createElement(A,{MonteCarloChartCompRef:i})),r.a.createElement(w.a,{modalWindowRef:t}),r.a.createElement(N,{FetchNornFinanceAPIServerRef:l}))},D=t("3Y3G"),I=t("vrFN");a.default=()=>{const e=Object(n.useRef)({getLoading:null,setLoading:null});return r.a.createElement(l.a,{injectFirst:!0},r.a.createElement(I.a,null),r.a.createElement(i.a,null,r.a.createElement(z,{loadingAnimeRef:e})),r.a.createElement(D.a,{loadingAnimeRef:e}))}},cD7S:function(e,a,t){"use strict";var n=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t("jelL")),l=t("nKUr");a.default=(0,r.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},q3Q2:function(e,a,t){e.exports={container:"StockPriceSimulation-module--container--oAaYx",queryPannel:"StockPriceSimulation-module--queryPannel--3DlMY",parameterTitle:"StockPriceSimulation-module--parameterTitle--Yjfuv",parameterBlock:"StockPriceSimulation-module--parameterBlock--31zQ1",valueText:"StockPriceSimulation-module--valueText--1U149",queryBtn:"StockPriceSimulation-module--queryBtn--8XrjZ",queryBtnMobile:"StockPriceSimulation-module--queryBtnMobile--3Te8v",chart:"StockPriceSimulation-module--chart--2D8cw"}}}]);
//# sourceMappingURL=component---src-pages-stock-price-simulation-js-a3d6dc2687f2a95fd026.js.map