{"version":3,"sources":["webpack:///./src/components/searchGridToolbar.js","webpack:///./src/components/stock-peer-comparison/factorPannel.module.scss","webpack:///./node_modules/@mui/icons-material/Search.js","webpack:///./src/common/peer.js","webpack:///./src/components/stock-peer-comparison/factorPannel.js","webpack:///./src/components/stock-peer-comparison/stockPeerComparison.js","webpack:///./src/pages/stock-peer-comparison.js","webpack:///./node_modules/@mui/icons-material/Info.js","webpack:///./node_modules/@mui/icons-material/ListAlt.js","webpack:///./node_modules/@mui/x-data-grid/components/containers/GridToolbarContainer.js","webpack:///./src/components/stock-peer-comparison/stockPeerComparison.module.scss"],"names":["SearchGridToolbar","_ref","searchVal","setSearchVal","clickCallback","info","searchStockRef","useRef","doSearch","symbols","current","value","replaceAll","split","map","symbol","trim","toUpperCase","console","log","config","filter_symbols","length","React","createElement","GridToolbarContainer","Paper","component","sx","p","m","display","alignItems","InputBase","autoFocus","ml","flex","style","width","isMobile","placeholder","inputProps","defaultValue","inputRef","onKeyDown","ev","key","preventDefault","IconButton","type","aria-label","onClick","SearchIcon","NoMaxWidthTooltip","arrow","title","fontSize","whiteSpace","lineHeight","textAlign","tooltip","text","window","open","link","InfoIcon","color","Fragment","module","exports","_interopRequireDefault","Object","defineProperty","default","_createSvgIcon","_jsxRuntime","jsx","d","PeerTemplate","tactics","displayName","main","backgroundColor","avatar","enable","flag","GetTacticFromCookie","cookie_t","Cookies","get","reduce","accumulator","currentValue","FactorPannel","factorPannelRef","cookies","getValue","tactic","setValue","Setting","tactic_t","entries","forEach","_ref2","setTactic","getEnableTacticStrings","enableList","_ref3","push","join","useState","tacticsColor","palette","element","tacticsTheme","createTheme","useEffect","className","factorPannelStyle","container","Chip","label","margin","set","path","expires","Date","now","maxAge","customTheme","applyPeer","StockPeerComparison","loadingAnimeRef","peerTemplateDict","GetPeerTemplateDict","ret","hideColState","setHideColState","modalWindowRef","popModalWindow","popPureModal","tableColList","hide","getData","async","url","fetchObj","resp_data","response","ok","calcPeerSign","stock","industry","Math","sign","parseFloat","PeerField","field","headerName","valueFixed","stockField","industryField","description","output","renderCell","params","Number","MAX_VALUE","undefined","Typography","fontWeight","row","cursor","toFixed","fetchStockNameIndustrySectorData","useFetch","cachePolicy","fetchStockStatData","fetchIndustryStatData","renderStockPeerComparisonTable","filter_industries","queryParameters","URLSearchParams","location","search","Promise","all","then","allResponses","industryDict","result","val","keys","index","stockInfo","industryStat","o","id","close","PE","PB","Dividend","high52","low52","perfWeek","perfMonth","perfQuarter","perfHalfY","perfYear","perfYTD","PE_I","FwdPE","FwdPE_I","PEG","PEG_I","PS","PS_I","PB_I","PC","PC_I","PFCF","PFCF_I","Dividend_I","FloatShort","FloatShort_I","Recom","Recom_I","tacticReal","key_i","substring","includes","setRowData","setLoading","catch","error","rowData","stockPeerComparisonStyle","table","DataGrid","rows","columns","SymbolNameField","PriceField","PureFieldWithValueCheck","PercentField","ColorPercentField","href","URL","getUrl","protocol","hostname","port","encodeURIComponent","target","rel","size","aria-haspopup","ListAltIcon","components","NoRowsOverlay","DefaultDataGridTable","Toolbar","cmdPanelMobile","cmdPanel","ThemeProvider","theme","Box","justify","Button","variant","startIcon","disableSelectionOnClick","onColumnVisibilityChange","param","tempHideColState","ModalWindow","StockPeerComparisonPage","getLoading","StylesProvider","injectFirst","SEO","Layout","LoadingAnime","_excluded","GridToolbarContainerRoot","name","slot","overridesResolver","props","styles","toolbarContainer","flexWrap","padding","spacing","ref","children","other","rootProps","classes","ownerState","root","useUtilityClasses"],"mappings":"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","file":"component---src-pages-stock-peer-comparison-js-15a7ad09a044c5ef4602.js","sourcesContent":["\r\nimport React, { useRef } from 'react'\r\nimport InputBase from '@mui/material/InputBase'\r\nimport InfoIcon from '@mui/icons-material/Info'\r\nimport SearchIcon from '@mui/icons-material/Search'\r\nimport Paper from '@mui/material/Paper'\r\nimport { GridToolbarContainer } from '@mui/x-data-grid'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport { isMobile } from 'react-device-detect'\r\nimport { NoMaxWidthTooltip } from '../common/reactUtils'\r\n\r\nconst SearchGridToolbar = ({ searchVal, setSearchVal, clickCallback, info }) => {\r\n    const searchStockRef = useRef(null)\r\n\r\n    var doSearch = () => {\r\n      let symbols = searchStockRef.current.value.replaceAll(\"\\\"\",\"\").split(',').map((symbol) => symbol.trim().toUpperCase())\r\n      console.log(symbols)\r\n      let config = {filter_symbols: []}\r\n      if (symbols.length !== 0 && symbols[0] !== '') {\r\n          config = {filter_symbols: symbols}\r\n      }\r\n      setSearchVal(searchStockRef.current.value)\r\n      clickCallback(config)\r\n    }\r\n\r\n    return (\r\n      <GridToolbarContainer>\r\n        <Paper\r\n            component=\"form\"\r\n            sx={{ p: '6 16', m: 1, display: 'flex', alignItems: 'center' }}\r\n        > \r\n          <InputBase autoFocus\r\n            sx={{ ml: 1, flex: 1 }}\r\n            style={{width: isMobile ? 200 : 400}}\r\n            placeholder={info.placeholder}\r\n            inputProps={{ 'aria-label': 'search-targets' }}\r\n            defaultValue={searchVal}\r\n            inputRef={searchStockRef}\r\n            onKeyDown={(ev) => {\r\n              if (ev.key === 'Enter') {\r\n                doSearch()\r\n                ev.preventDefault();\r\n              }\r\n            }}\r\n            />\r\n            <IconButton type=\"button\" sx={{ p: '10px' }} aria-label=\"search\" onClick={doSearch}>\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </Paper>\r\n        {'tooltip' in info ? \r\n          <NoMaxWidthTooltip arrow title={<span style={{ fontSize: '14px', whiteSpace: 'pre-line', lineHeight: '20px', textAlign: 'center'}}>{info.tooltip.text}</span>} >\r\n            <IconButton onClick={() => window.open(info.tooltip.link, \"_blank\")}>\r\n              <InfoIcon color=\"action\"/>\r\n            </IconButton>\r\n          </NoMaxWidthTooltip> : <></>\r\n        }\r\n      </GridToolbarContainer>\r\n    )\r\n}\r\n\r\nexport default SearchGridToolbar\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"factorPannel-module--container--1Zs6F\"};","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)(/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n}), 'Search');","export const COOKIE_KEY_FACTOR_PANNEL = 'factor_pannel'\r\n\r\nexport const PeerTemplate = {\r\n  tactics: [\r\n    {\r\n      type: \"PEP\",\r\n      displayName: \"P/E Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#f44336', color: '#fff' },     // Shade: 500\r\n        avatar: { backgroundColor: '#d32f2f', color: '#fff' },   // Shade: 700\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"FwdPEP\",\r\n      displayName: \"Fwd P/E Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#2196f3', color: '#fff' },\r\n        avatar: { backgroundColor: '#1976d2', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"PEGP\",\r\n      displayName: \"PEG Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#4caf50', color: '#fff' },\r\n        avatar: { backgroundColor: '#388e3c', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"PSP\",\r\n      displayName: \"P/S Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#ff9800', color: '#fff' },\r\n        avatar: { backgroundColor: '#f57c00', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"PBP\",\r\n      displayName: \"P/B Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#9c27b0', color: '#fff' },\r\n        avatar: { backgroundColor: '#7b1fa2', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"PCP\",\r\n      displayName: \"P/C Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#ffeb3b', color: 'rgba(0, 0, 0, 0.87)' },\r\n        avatar: { backgroundColor: '#fbc02d', color: 'rgba(0, 0, 0, 0.87)' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"PFCFP\",\r\n      displayName: \"P/FCF Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#00bcd4', color: '#fff' },\r\n        avatar: { backgroundColor: '#0097a7', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"DividendP\",\r\n      displayName: \"Dividend Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#795548', color: '#fff' },\r\n        avatar: { backgroundColor: '#5d4037', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: 1,\r\n    },\r\n    {\r\n      type: \"FloatShortP\",\r\n      displayName: \"Float Short Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#607d8b', color: '#fff' },\r\n        avatar: { backgroundColor: '#455a64', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    },\r\n    {\r\n      type: \"RecomP\",\r\n      displayName: \"Recom Peer\",\r\n      color: {\r\n        main: { backgroundColor: '#ff5722', color: '#fff' },\r\n        avatar: { backgroundColor: '#e64a19', color: '#fff' },\r\n      },\r\n      enable: true,\r\n      flag: -1,\r\n    }\r\n  ]\r\n}\r\n\r\nexport const GetPeerTemplateDict = () => {\r\n  let ret = {}\r\n  PeerTemplate.tactics.forEach((element)=>{\r\n    ret[element.type] = element\r\n  })\r\n  return ret\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Chip from '@mui/material/Chip'\r\nimport { createTheme } from '@mui/material/styles'\r\n\r\nimport { PeerTemplate, COOKIE_KEY_FACTOR_PANNEL } from '../../common/peer'\r\nimport Cookies from 'universal-cookie'\r\n\r\nimport factorPannelStyle from './factorPannel.module.scss'\r\n\r\nexport const GetTacticFromCookie = () => {\r\n  const cookies = new Cookies()\r\n  let cookie_t = cookies.get(COOKIE_KEY_FACTOR_PANNEL)\r\n  let ret = PeerTemplate.tactics.reduce((accumulator, currentValue)=>{\r\n    if (!cookie_t) {\r\n      accumulator[currentValue.type] = currentValue.enable\r\n    } else {\r\n      accumulator[currentValue.type] = cookie_t.tactics[currentValue.type]\r\n    }\r\n    return accumulator\r\n  }, {})\r\n  return ret\r\n}\r\n\r\nconst FactorPannel = ({ factorPannelRef }) => {\r\n  const cookies = new Cookies()\r\n\r\n  // factorPannelRef API\r\n  factorPannelRef.current.getValue = () => {\r\n    return tactic\r\n  }\r\n\r\n  factorPannelRef.current.setValue = (Setting) => {\r\n    let tactic_t = { ...tactic }\r\n    Object.entries(Setting.tactics).forEach(([key, value]) => {\r\n      tactic_t[key] = value\r\n    })\r\n    setTactic(tactic_t)\r\n  }\r\n\r\n  factorPannelRef.current.getEnableTacticStrings = () => {\r\n    let enableList=[]\r\n    Object.entries(tactic).forEach(([key, value]) => {\r\n      if (value){\r\n        enableList.push(key)\r\n      }\r\n    })\r\n    return enableList.join(\",\")\r\n  }\r\n\r\n  // tactic\r\n  const [tactic, setTactic] = useState(GetTacticFromCookie())\r\n\r\n  // tactic color\r\n  let tacticsColor = {\r\n    palette: { \r\n      default: \r\n      {\r\n        main: { backgroundColor: '#e0e0e0', color: 'rgba(0, 0, 0, 0.87)' },\r\n        avatar: { backgroundColor: '#bdbdbd', color: '#616161' },\r\n      }\r\n    }\r\n  }\r\n\r\n  PeerTemplate.tactics.forEach((element)=>{\r\n    tacticsColor.palette[element.type] = element.color\r\n  })\r\n\r\n  const tacticsTheme = createTheme(tacticsColor)\r\n\r\n  useEffect(() => {\r\n    // componentDidMount is here!\r\n    // componentDidUpdate is here!\r\n    return () => {\r\n      // componentWillUnmount is here!\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className={factorPannelStyle.container}>\r\n      <div>\r\n        {PeerTemplate.tactics.map((value) => {\r\n          return (\r\n            <Chip key={value.type}\r\n              label={value.displayName} \r\n              style={tactic[value.type] ? { ...tacticsTheme.palette[value.type].main, ...{ margin: '3px 5px' } } : { ...tacticsTheme.palette.default.main, ...{ margin: '3px 5px' }}}\r\n              onClick={() => {\r\n                let tactic_t = { ...tactic }\r\n                tactic_t[value.type] = !tactic_t[value.type]\r\n                setTactic(tactic_t)\r\n                cookies.set(COOKIE_KEY_FACTOR_PANNEL, { tactics: tactic_t }, { \r\n                  path: '/',\r\n                  expires: new Date(Date.now() + 10 * 365 * 24 * 60 * 60 * 1000),\r\n                  maxAge: 10 * 365 * 24 * 60 * 60,\r\n                })\r\n              }} />\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default FactorPannel\r\n","\r\nimport React, { useState, useRef, useEffect, useMemo } from 'react'\r\nimport { DataGrid, GridToolbarContainer } from '@mui/x-data-grid'\r\nimport ListAltIcon from '@mui/icons-material/ListAlt'\r\nimport Box from '@mui/material/Box'\r\nimport { createTheme } from '@mui/material/styles'\r\nimport { ThemeProvider } from '@mui/styles'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport Button from '@mui/material/Button'\r\nimport SearchIcon from '@mui/icons-material/Search'\r\nimport useFetch from 'use-http'\r\nimport Typography from '@mui/material/Typography'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport ModalWindow from '../modalWindow'\r\nimport DefaultDataGridTable from '../defaultDataGridTable'\r\nimport SearchGridToolbar from '../searchGridToolbar'\r\nimport { SymbolNameField, PriceField, PureFieldWithValueCheck, PercentField, ColorPercentField } from '../../common/dataGridUtil'\r\nimport { getUrl } from '../../common/utils'\r\nimport { NoMaxWidthTooltip } from '../../common/reactUtils'\r\nimport FactorPannel, {GetTacticFromCookie} from './factorPannel'\r\nimport { GetPeerTemplateDict } from '../../common/peer'\r\n\r\nimport stockPeerComparisonStyle from './stockPeerComparison.module.scss'\r\nimport '../muiTablePagination.css'\r\n\r\n\r\nconst customTheme = createTheme({\r\n  palette: {\r\n    applyPeer: { \r\n      backgroundColor: '#43a047', color: '#fff'\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst StockPeerComparison = ({ loadingAnimeRef }) => {\r\n\r\n  let peerTemplateDict = GetPeerTemplateDict()\r\n\r\n  const [hideColState, setHideColState] = useState({})\r\n  const [tactic, setTactic] = useState(GetTacticFromCookie())\r\n\r\n  const modalWindowRef = useRef({\r\n    popModalWindow: null,\r\n    popPureModal: null,\r\n  })\r\n  \r\n  const factorPannelRef = useRef({\r\n    getValue: null,\r\n  })\r\n\r\n  const tableColList = {\r\n    Close: { hide: false, text: 'Price' },\r\n    PEP: { hide: false, text: 'P/E Peer' },\r\n    FwdPEP: { hide: false, text: 'Fwd P/E Peer' },\r\n    PEGP: { hide: false, text: 'PEG Peer' },\r\n    PSP: { hide: false, text: 'P/S Peer' },\r\n    PBP: { hide: false, text: 'P/B Peer' },\r\n    PCP: { hide: false, text: 'P/C Peer' },\r\n    PFCFP: { hide: false, text: 'P/FCF Peer' },\r\n    DividendP: { hide: false, text: 'Dividend % Peer' },\r\n    FloatShortP: { hide: false, text: 'Float Short Peer' },\r\n    RecomP: { hide: false, text: 'Recom Peer' },\r\n    BtrThnAvg: { hide: false, text: 'Btr Thn Avg' },\r\n    PE: { hide: false, text: 'P/E' },\r\n    PB: { hide: false, text: 'P/B' },\r\n    Dividend: { hide: false, text: 'Dividend %' },\r\n    High52: { hide: false, text: '52W High' },\r\n    Low52: { hide: false, text: '52W Low' },\r\n    PerfWeek: { hide: false, text: 'Perf Week' },\r\n    PerfMonth: { hide: false, text: 'Perf Month' },\r\n    PerfQuarter: { hide: false, text: 'Perf Quarter' },\r\n    PerfHalfY: { hide: false, text: 'Perf Half Y' },\r\n    PerfYear: { hide: false, text: 'Perf Year' },\r\n    PerfYTD: { hide: false, text: 'Perf YTD' },\r\n    DetailLink: { hide: false, text: 'Detail' },\r\n  }\r\n\r\n  const getData = async (url, fetchObj) => {\r\n    const resp_data = await fetchObj.get(url)\r\n    if (fetchObj.response.ok && resp_data) {\r\n      return resp_data\r\n    }\r\n    else {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const calcPeerSign = (stock, industry, flag) => {\r\n    return Math.sign(parseFloat((stock -industry) * flag))\r\n  }\r\n\r\n  const PeerField = (field, headerName, width, valueFixed, hide, stockField, industryField, flag, description = null) => {\r\n    let output = {\r\n      field: field,\r\n      headerName: headerName,\r\n      width: width,\r\n      type: 'number',\r\n      renderCell: (params) => (\r\n        params.value === \"-\" || params.value === -Number.MAX_VALUE || params.value === Number.MAX_VALUE || params.value === null || params.value === undefined || params.value === \"Infinity\" || params.value === 'NaN' ? \r\n        <Typography sx={{ fontWeight: 600, color: 'unset' }} >-</Typography>\r\n        :\r\n        <NoMaxWidthTooltip arrow title={<span style={{ fontSize: '14px', whiteSpace: 'pre-line', lineHeight: '20px', textAlign: 'center'}}> {`Stock: ${params.row[stockField]} | Industry: ${params.row[industryField]}`}</span>} >\r\n          <Typography sx={{ fontWeight: 600, color: calcPeerSign(params.row[stockField], params.row[industryField], flag) === 1 ? 'green' : calcPeerSign(params.row[stockField], params.row[industryField], flag) === -1 ? 'red' : ''}} style={{cursor: 'pointer'}}>{params.value.toFixed(valueFixed)}</Typography>\r\n        </NoMaxWidthTooltip>\r\n      ),\r\n      hide: hide,\r\n    }\r\n    \r\n    if (description != null) {\r\n      output['description'] = description\r\n    }\r\n    return output\r\n  }\r\n\r\n  const genTableColTemplate = () => {\r\n    return [\r\n      SymbolNameField('Symbol', 130, 'symbol' in hideColState ? hideColState['symbol'] : false),\r\n      PriceField('close', tableColList.Close.text, 110, 'close' in hideColState ? hideColState['close'] : tableColList['Close'].hide, null, \"yahoo\"),\r\n      PeerField('PEP', tableColList.PEP.text, 110, 2, ('PEP' in tactic && !tactic['PEP']) ? true : ('PEP' in hideColState ? hideColState['PEP'] : tableColList['PEP'].hide), \"PE\", \"PE_I\", peerTemplateDict['PEP'].flag , \"P/E Peer (Stock / Industry)\"),\r\n      PeerField('FwdPEP', tableColList.FwdPEP.text, 110, 2, ('FwdPEP' in tactic && !tactic['FwdPEP']) ? true : ('FwdPEP' in hideColState ? hideColState['FwdPEP'] : tableColList['FwdPEP'].hide), \"FwdPE\", \"FwdPE_I\", peerTemplateDict['FwdPEP'].flag, \"Forward P/E Peer (Stock / Industry)\"),\r\n      PeerField('PEGP', tableColList.PEGP.text, 110, 2, ('PEGP' in tactic && !tactic['PEGP']) ? true : ('PEGP' in hideColState ? hideColState['PEGP'] : tableColList['PEGP'].hide), \"PEG\", \"PEG_I\", peerTemplateDict['PEGP'].flag, \"PEG Peer (Stock / Industry)\"),\r\n      PeerField('PSP', tableColList.PSP.text, 110, 2, ('PSP' in tactic && !tactic['PSP']) ? true : ('PSP' in hideColState ? hideColState['PSP'] : tableColList['PSP'].hide), \"PS\", \"PS_I\", peerTemplateDict['PSP'].flag, \"P/S Peer (Stock / Industry)\"),\r\n      PeerField('PBP', tableColList.PBP.text, 110, 2, ('PBP' in tactic && !tactic['PBP']) ? true : ('PBP' in hideColState ? hideColState['PBP'] : tableColList['PBP'].hide), \"PB\", \"PB_I\", peerTemplateDict['PBP'].flag, \"P/B Peer (Stock / Industry)\"),\r\n      PeerField('PCP', tableColList.PCP.text, 110, 2, ('PCP' in tactic && !tactic['PCP']) ? true : ('PCP' in hideColState ? hideColState['PCP'] : tableColList['PCP'].hide), \"PC\", \"PC_I\", peerTemplateDict['PCP'].flag, \"P/C Peer (Stock / Industry)\"),\r\n      PeerField('PFCFP', tableColList.PFCFP.text, 110, 2, ('PFCFP' in tactic && !tactic['PFCFP']) ? true : ('PFCFP' in hideColState ? hideColState['PFCFP'] : tableColList['PFCFP'].hide), \"PFCF\", \"PFCF_I\", peerTemplateDict['PFCFP'].flag, \"P/FCF Peer (Stock / Industry)\"),\r\n      PeerField('DividendP', tableColList.DividendP.text, 110, 2, ('DividendP' in tactic && !tactic['DividendP']) ? true : ('DividendP' in hideColState ? hideColState['DividendP'] : tableColList['DividendP'].hide), \"Dividend\", \"Dividend_I\", peerTemplateDict['DividendP'].flag, \"Dividend % Peer (Stock / Industry)\"),\r\n      PeerField('FloatShortP', tableColList.FloatShortP.text, 110, 2, ('FloatShortP' in tactic && !tactic['FloatShortP']) ? true : ('FloatShortP' in hideColState ? hideColState['FloatShortP'] : tableColList['FloatShortP'].hide), \"FloatShort\", \"FloatShort_I\", peerTemplateDict['FloatShortP'].flag, \"Float Short Peer (Stock / Industry)\"),\r\n      PeerField('RecomP', tableColList.RecomP.text, 110, 2, ('RecomP' in tactic && !tactic['RecomP']) ? true : ('RecomP' in hideColState ? hideColState['RecomP'] : tableColList['RecomP'].hide), \"Recom\", \"Recom_I\", peerTemplateDict['RecomP'].flag, \"Recommend Peer (Stock / Industry)\"),\r\n      PureFieldWithValueCheck(\"BtrThnAvg\", tableColList.BtrThnAvg.text, 110, 0, \"BtrThnAvg\" in hideColState ? hideColState[\"BtrThnAvg\"] : tableColList['BtrThnAvg'].hide),\r\n      PureFieldWithValueCheck(\"PE\", tableColList.PE.text, 110, 2, \"PE\" in hideColState ? hideColState[\"PE\"] : tableColList['PE'].hide),\r\n      PureFieldWithValueCheck(\"PB\", tableColList.PB.text, 110, 2, \"PB\" in hideColState ? hideColState[\"PB\"] : tableColList['PB'].hide),\r\n      PercentField(\"Dividend\", tableColList.Dividend.text, 150, \"Dividend\" in hideColState ? hideColState[\"Dividend\"] : tableColList['Dividend'].hide),\r\n      PercentField(\"high52\", tableColList.High52.text, 150, \"high52\" in hideColState ? hideColState[\"high52\"] : tableColList['High52'].hide),\r\n      PercentField(\"low52\", tableColList.Low52.text, 150, \"low52\" in hideColState ? hideColState[\"low52\"] : tableColList['Low52'].hide),\r\n      ColorPercentField(\"perfWeek\", tableColList.PerfWeek.text, 150, 2, \"perfWeek\" in hideColState ? hideColState[\"perfWeek\"] : tableColList['PerfWeek'].hide, 500),\r\n      ColorPercentField(\"perfMonth\", tableColList.PerfMonth.text, 150, 2, \"perfMonth\" in hideColState ? hideColState[\"perfMonth\"] : tableColList['PerfMonth'].hide, 500),\r\n      ColorPercentField(\"perfQuarter\", tableColList.PerfQuarter.text, 150, 2, \"perfQuarter\" in hideColState ? hideColState[\"perfQuarter\"] : tableColList['PerfQuarter'].hide, 500),\r\n      ColorPercentField(\"perfHalfY\", tableColList.PerfHalfY.text, 150, 2, \"perfHalfY\" in hideColState ? hideColState[\"perfHalfY\"] : tableColList['PerfHalfY'].hide, 500),\r\n      ColorPercentField(\"perfYear\", tableColList.PerfYear.text, 150, 2, \"perfYear\" in hideColState ? hideColState[\"perfYear\"] : tableColList['PerfYear'].hide, 500),\r\n      ColorPercentField(\"perfYTD\", tableColList.PerfYTD.text, 150, 2, \"perfYTD\" in hideColState ? hideColState[\"perfYTD\"] : tableColList['PerfYTD'].hide, 500),\r\n      {\r\n        field: 'detailLink',\r\n        headerName: tableColList['DetailLink'].text,\r\n        width: 130,\r\n        renderCell: (params) => (\r\n          <a href={(new URL(getUrl())).protocol + \"//\" + (new URL(getUrl())).hostname + \":\" + (new URL(getUrl())).port + '/stock-peer-comparison' + '?industry=' + encodeURIComponent(params.row['industry'])} target=\"_blank\" rel=\"noreferrer noopener\">\r\n            <IconButton\r\n              size=\"small\"\r\n              aria-haspopup=\"true\">\r\n              <ListAltIcon color=\"primary\" style={{ fontSize: 40 }} />\r\n            </IconButton>\r\n          </a>\r\n        ),\r\n        hide: 'detailLink' in  hideColState? hideColState['detailLink'] : tableColList['DetailLink'].hide\r\n      },\r\n    ]\r\n  }\r\n\r\n  const fetchStockNameIndustrySectorData = useFetch({ cachePolicy: 'no-cache' })\r\n  const fetchStockStatData = useFetch({ cachePolicy: 'no-cache' })\r\n  const fetchIndustryStatData = useFetch({ cachePolicy: 'no-cache' })\r\n  const renderStockPeerComparisonTable = (config)=>{\r\n    if (config === null) {\r\n      config = {filter_symbols: [], filter_industries: []}\r\n      if (typeof window !== 'undefined') {\r\n        const queryParameters = new URLSearchParams(window.location.search)\r\n        let symbol = queryParameters.get(\"symbol\")\r\n        if (symbol) {\r\n          config.filter_symbols = [symbol]\r\n        }\r\n        let industry = queryParameters.get(\"industry\")\r\n        if (industry) {\r\n          config.filter_industries = [industry]\r\n        }\r\n      }\r\n    }\r\n\r\n    Promise.all([\r\n      getData(\"/norn-data/stock/stat.json\", fetchStockStatData),\r\n      getData(\"/norn-data/stock/info.json\", fetchStockNameIndustrySectorData),\r\n      getData(\"/norn-data/indusrty-table.json\", fetchIndustryStatData),\r\n    ]).then((allResponses) => {\r\n      //console.log(allResponses)\r\n      if (allResponses.length === 3 && allResponses[0] !== null && allResponses[1] !== null && allResponses[2] !== null) {\r\n        let industryDict = allResponses[2][\"data\"].reduce((result, val) => {\r\n          result[val[\"Industry\"]] = {\r\n            'P/E': val['P/E'],\r\n            'Fwd P/E': val['Fwd P/E'],\r\n            'PEG': val['PEG'],\r\n            'P/S': val['P/S'],\r\n            'P/B': val['P/B'],\r\n            'P/C': val['P/C'],\r\n            'P/FCF': val['P/FCF'],\r\n            'Dividend': val['Dividend'],\r\n            'Float Short': val['Float Short'],\r\n            'Recom': val['Recom']\r\n          }\r\n          return result\r\n        }, {})\r\n        console.log(industryDict)\r\n        let output = Object.keys(allResponses[1]).reduce((result, symbol, index) => {\r\n          let stockInfo = allResponses[0][symbol]\r\n          let industry = allResponses[1][symbol][1]\r\n          let industryStat = industryDict[industry]\r\n          let o = {\r\n            id: index,\r\n            symbol: symbol,\r\n            close: stockInfo !== undefined && stockInfo !== null && stockInfo['Close'] !== '-' ? stockInfo['Close'] : -Number.MAX_VALUE,\r\n            PE: stockInfo !== undefined && stockInfo !== null && stockInfo['P/E'] !== '-' ? stockInfo['P/E'] : Number.MAX_VALUE,\r\n            PB: stockInfo !== undefined && stockInfo !== null && stockInfo['P/B'] !== '-' ? stockInfo['P/B'] : Number.MAX_VALUE,\r\n            Dividend: stockInfo !== undefined && stockInfo !== null && stockInfo['Dividend %'] !== '-' ? stockInfo['Dividend %'] : -Number.MAX_VALUE,\r\n            high52: stockInfo !== undefined && stockInfo !== null && stockInfo['52W High'] !== '-' ? stockInfo['52W High'] : -Number.MAX_VALUE,\r\n            low52: stockInfo !== undefined && stockInfo !== null && stockInfo['52W Low'] !== '-' ? stockInfo['52W Low'] : -Number.MAX_VALUE,\r\n            perfWeek: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf Week'] !== '-' ? stockInfo['Perf Week'] : -Number.MAX_VALUE,\r\n            perfMonth: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf Month'] !== '-' ? stockInfo['Perf Month'] : -Number.MAX_VALUE,\r\n            perfQuarter: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf Quarter'] !== '-' ? stockInfo['Perf Quarter'] : -Number.MAX_VALUE,\r\n            perfHalfY: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf Half Y'] !== '-' ? stockInfo['Perf Half Y'] : -Number.MAX_VALUE,\r\n            perfYear: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf Year'] !== '-' ? stockInfo['Perf Year'] : -Number.MAX_VALUE,\r\n            perfYTD: stockInfo !== undefined && stockInfo !== null && stockInfo['Perf YTD'] !== '-' ? stockInfo['Perf YTD'] : -Number.MAX_VALUE,\r\n            // hidden field\r\n            industry: industry,\r\n            PE_I: industryStat !== undefined && industryStat !== null && industryStat['P/E'] !== '-' ? industryStat['P/E'] : Number.MAX_VALUE,\r\n            FwdPE: stockInfo !== undefined && stockInfo !== null && stockInfo['Forward P/E'] !== '-' ? stockInfo['Forward P/E'] : Number.MAX_VALUE, \r\n            FwdPE_I: industryStat !== undefined && industryStat !== null && industryStat['Fwd P/E'] !== '-' ? industryStat['Fwd P/E'] : Number.MAX_VALUE,\r\n            PEG: stockInfo !== undefined && stockInfo !== null && stockInfo['PEG'] !== '-' ? stockInfo['PEG'] : Number.MAX_VALUE,\r\n            PEG_I: industryStat !== undefined && industryStat !== null && industryStat['PEG'] !== '-' ? industryStat['PEG'] : Number.MAX_VALUE,\r\n            PS: stockInfo !== undefined && stockInfo !== null && stockInfo['P/S'] !== '-' ? stockInfo['P/S'] : Number.MAX_VALUE,\r\n            PS_I: industryStat !== undefined && industryStat !== null && industryStat['P/S'] !== '-' ? industryStat['P/S'] : Number.MAX_VALUE,\r\n            PB: stockInfo !== undefined && stockInfo !== null && stockInfo['P/B'] !== '-' ? stockInfo['P/B'] : Number.MAX_VALUE,\r\n            PB_I: industryStat !== undefined && industryStat !== null && industryStat['P/B'] !== '-' ? industryStat['P/B'] : Number.MAX_VALUE,\r\n            PC: stockInfo !== undefined && stockInfo !== null && stockInfo['P/C'] !== '-' ? stockInfo['P/C'] : Number.MAX_VALUE,\r\n            PC_I: industryStat !== undefined && industryStat !== null && industryStat['P/C'] !== '-' ? industryStat['P/C'] : Number.MAX_VALUE,\r\n            PFCF: stockInfo !== undefined && stockInfo !== null && stockInfo['P/FCF'] !== '-' ? stockInfo['P/FCF'] : Number.MAX_VALUE,\r\n            PFCF_I: industryStat !== undefined && industryStat !== null && industryStat['P/FCF'] !== '-' ? industryStat['P/FCF'] : Number.MAX_VALUE,\r\n            Dividend_I: industryStat !== undefined && industryStat !== null && industryStat['Dividend'] !== '-' ? industryStat['Dividend'] : -Number.MAX_VALUE,\r\n            FloatShort: stockInfo !== undefined && stockInfo !== null && stockInfo['Short Float'] !== '-' ? stockInfo['Short Float'] : Number.MAX_VALUE,\r\n            FloatShort_I: industryStat !== undefined && industryStat !== null && industryStat['Float Short'] !== '-' ? industryStat['Float Short'] : Number.MAX_VALUE,\r\n            Recom: stockInfo !== undefined && stockInfo !== null && stockInfo['Recom'] !== '-' ? stockInfo['Recom'] : Number.MAX_VALUE,\r\n            Recom_I: industryStat !== undefined && industryStat !== null && industryStat['Recom'] !== '-' ? industryStat['Recom'] : Number.MAX_VALUE,\r\n          }\r\n          o['PEP'] = o['PE'] != Number.MAX_VALUE && o['PE_I'] != Number.MAX_VALUE ? o['PE'] / o['PE_I'] : Number.MAX_VALUE\r\n          o['FwdPEP'] = o['FwdPE'] != Number.MAX_VALUE && o['FwdPE_I'] != Number.MAX_VALUE ? o['FwdPE'] / o['FwdPE_I'] : Number.MAX_VALUE\r\n          o['PEGP'] = o['PEG'] != Number.MAX_VALUE && o['PEG_I'] != Number.MAX_VALUE ? o['PEG'] / o['PEG_I'] : Number.MAX_VALUE\r\n          o['PSP'] = o['PS'] != Number.MAX_VALUE && o['PS_I'] != Number.MAX_VALUE ? o['PS'] / o['PS_I'] : Number.MAX_VALUE\r\n          o['PBP'] = o['PB'] != Number.MAX_VALUE && o['PB_I'] != Number.MAX_VALUE ? o['PB'] / o['PB_I'] : Number.MAX_VALUE\r\n          o['PCP'] = o['PC'] != Number.MAX_VALUE && o['PC_I'] != Number.MAX_VALUE ? o['PC'] / o['PC_I'] : Number.MAX_VALUE\r\n          o['PFCFP'] = o['PFCF'] != Number.MAX_VALUE && o['PFCF_I'] != Number.MAX_VALUE ? o['PFCF'] / o['PFCF_I'] : Number.MAX_VALUE\r\n          o['DividendP'] = o['Dividend'] != -Number.MAX_VALUE && o['Dividend_I'] != -Number.MAX_VALUE ? o['Dividend'] / o['Dividend_I'] : -Number.MAX_VALUE\r\n          o['FloatShortP'] = o['FloatShort'] != Number.MAX_VALUE && o['FloatShort_I'] != Number.MAX_VALUE ? o['FloatShort'] / o['FloatShort_I'] : Number.MAX_VALUE\r\n          o['RecomP'] = o['Recom'] != Number.MAX_VALUE && o['Recom_I'] != Number.MAX_VALUE ? o['Recom'] / o['Recom_I'] : Number.MAX_VALUE\r\n\r\n          // calc BtrThnAvg for total count by flag & enable\r\n          o['BtrThnAvg'] = Object.keys(peerTemplateDict).reduce((result, key) => {\r\n            let tacticReal = factorPannelRef.current.getValue()\r\n            if (key in tacticReal && tacticReal[key] && key in o && (o[key] != -Number.MAX_VALUE && o[key] != Number.MAX_VALUE)) {\r\n              let key_i = key.substring(0, key.length - 1)\r\n              result += calcPeerSign(o[key_i], o[key_i + '_I'], peerTemplateDict[key].flag) > 0 ? 1 : 0\r\n            }\r\n            return result\r\n          }, 0)\r\n\r\n          if(!(\"filter_industries\" in config)) {\r\n            config[\"filter_industries\"] = []\r\n          }\r\n          if((config.filter_symbols.length === 0 && config.filter_industries.length === 0) || config.filter_symbols.includes(symbol) || config.filter_industries.includes(industry)) {\r\n            result.push(o)\r\n          }\r\n          return result\r\n        }, [])\r\n        console.log(output)\r\n        setRowData(output)\r\n      } else {\r\n        modalWindowRef.current.popModalWindow(<div>Load some data failed</div>)\r\n      }\r\n      loadingAnimeRef.current.setLoading(false)\r\n    }).catch((error) => {\r\n      console.error(error)\r\n      modalWindowRef.current.popModalWindow(<div>Can't get data</div>)\r\n      loadingAnimeRef.current.setLoading(false)\r\n    })\r\n  }\r\n\r\n  const [rowData, setRowData] = useState([])\r\n  const [searchVal, setSearchVal] = useState(\"\")\r\n \r\n  useEffect(() => {\r\n    // componentDidMount is here!\r\n    // componentDidUpdate is here!\r\n    renderStockPeerComparisonTable(null)\r\n    return () => {\r\n      // componentWillUnmount is here!\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className={stockPeerComparisonStyle.container}>\r\n        <div className={stockPeerComparisonStyle.table}>\r\n          <DataGrid rows={rowData} columns={genTableColTemplate()} components={{ NoRowsOverlay: DefaultDataGridTable, Toolbar: ()=>{\r\n            return (<GridToolbarContainer>\r\n              <div className={ isMobile?stockPeerComparisonStyle.cmdPanelMobile:stockPeerComparisonStyle.cmdPanel}>\r\n              <SearchGridToolbar searchVal={searchVal} setSearchVal={setSearchVal} clickCallback={(config)=>{\r\n                  if (\"filter_symbols\" in config && config.filter_symbols.length === 0) {\r\n                    config = null\r\n                  }\r\n                  renderStockPeerComparisonTable(config)\r\n                }} \r\n                info={{\r\n                  placeholder: 'Filter symbols: AAPL, BAC, KSS, ...',\r\n                }}\r\n              />\r\n              <FactorPannel factorPannelRef={factorPannelRef} />\r\n              <div></div>\r\n              <ThemeProvider theme={customTheme}>\r\n              <Box display=\"flex\" justify=\"flex-end\">\r\n                <Button size=\"small\" style={customTheme.palette.applyPeer} variant=\"contained\" color=\"primary\" startIcon={<SearchIcon />} onClick={() => {\r\n                  setTactic(factorPannelRef.current.getValue())\r\n                  let symbols = searchVal.replaceAll(\"\\\"\",\"\").split(',').map((symbol) => symbol.trim().toUpperCase())\r\n                  let config = null\r\n                  if (symbols.length !== 0 && symbols[0] !== '') {\r\n                      config = {filter_symbols: symbols}\r\n                  }\r\n                  renderStockPeerComparisonTable(config)\r\n                  }}>{'Apply Peer'}</Button>\r\n              </Box>\r\n              </ThemeProvider>\r\n              </div>\r\n            </GridToolbarContainer>)\r\n            }}} \r\n            disableSelectionOnClick onColumnVisibilityChange={(param) => {\r\n              let tempHideColState = hideColState\r\n              tempHideColState[param['field']] = !param['isVisible']\r\n              setHideColState(tempHideColState)\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <ModalWindow modalWindowRef={modalWindowRef} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default StockPeerComparison\r\n","import React, { useRef } from 'react'\r\nimport { StylesProvider } from '@mui/styles'\r\n\r\nimport Layout from '../components/layout'\r\nimport StockPeerComparison from '../components/stock-peer-comparison/stockPeerComparison'\r\nimport LoadingAnime from '../components/loadingAnime'\r\nimport SEO from '../components/seo'\r\n\r\nconst StockPeerComparisonPage = () => {\r\n\r\n  const loadingAnimeRef = useRef({\r\n    getLoading: null,\r\n    setLoading: null\r\n  })\r\n\r\n  return (\r\n    <StylesProvider injectFirst>\r\n      <SEO />\r\n      <Layout >\r\n        <StockPeerComparison loadingAnimeRef={loadingAnimeRef} />\r\n      </Layout>\r\n      <LoadingAnime loadingAnimeRef={loadingAnimeRef} />\r\n    </StylesProvider>\r\n  )\r\n}\r\n\r\nexport default StockPeerComparisonPage\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)(/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z\"\n}), 'Info');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)(/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 5v14H5V5zm1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z\"\n}), 'ListAlt');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"children\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { styled } from '@mui/material/styles';\nimport { unstable_composeClasses as composeClasses } from '@mui/material';\nimport { getDataGridUtilityClass } from '../../constants/gridClasses';\nimport { useGridRootProps } from '../../hooks/utils/useGridRootProps';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['toolbarContainer']\n  };\n  return composeClasses(slots, getDataGridUtilityClass, classes);\n};\nconst GridToolbarContainerRoot = styled('div', {\n  name: 'MuiDataGrid',\n  slot: 'ToolbarContainer',\n  overridesResolver: (props, styles) => styles.toolbarContainer\n})(_ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: 'flex',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n    padding: theme.spacing(0.5, 0.5, 0)\n  };\n});\nconst GridToolbarContainer = /*#__PURE__*/React.forwardRef(function GridToolbarContainer(props, ref) {\n  const {\n      className,\n      children\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const rootProps = useGridRootProps();\n  const classes = useUtilityClasses(rootProps);\n  if (!children) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(GridToolbarContainerRoot, _extends({\n    ref: ref,\n    className: clsx(className, classes.root),\n    ownerState: rootProps\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? GridToolbarContainer.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // | To update them edit the TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport { GridToolbarContainer };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"stockPeerComparison-module--container--1-_-v\",\"showColumn\":\"stockPeerComparison-module--showColumn--3lFdi\",\"cmdPanelMobile\":\"stockPeerComparison-module--cmdPanelMobile--2RSP5\",\"cmdPanel\":\"stockPeerComparison-module--cmdPanel--3CwBl\",\"table\":\"stockPeerComparison-module--table--4HoEW\"};"],"sourceRoot":""}